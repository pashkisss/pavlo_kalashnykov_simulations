# Комп’ютерні системи імітаційного моделювання  
СПм-24-3, Калашников Павло  
**Лабораторна робота №3. Використання засобів обчислювального інтелекту для оптимізації імітаційних моделей**

Варіант 7, модель у середовищі NetLogo:  
**Wolf Sheep Predation**

---

# 1. Мета роботи

Дослідити застосування **генетичного алгоритму (StandardGA)** та **випадкового пошуку (RandomSearch)** для підбору оптимальних параметрів моделі *Wolf Sheep Predation* у середовищі BehaviorSearch, а також перевірити роботу моделі NetLogo з отриманими параметрами.

---

# 2. Вербальний опис моделі

Модель *Wolf Sheep Predation* описує динаміку хижак–жертва у вигляді взаємодії вовків та овець:

- **Вівці** випадково рухаються, харчуються травою та розмножуються.  
- **Вовки** переслідують овець, поїдають їх, отримують енергію та також розмножуються.  
- При нестачі енергії агенти гинуть.  
- У моделі можливе існування трави, що відростає з певною швидкістю.

Це класична екосистемна модель, що демонструє коливання популяцій.

---

# 3. Керуючі параметри моделі

У моделі доступні численні параметри, проте для оптимізації були обрані три основні:

| Параметр | Опис | Діапазон |
|----------|-------|----------|
| **wolf-reproduce** | Ймовірність розмноження вовків (%) | 1–20 |
| **initial-number-wolves** | Початкова кількість вовків | 1–250 |
| **initial-number-sheep** | Початкова кількість овець | 1–250 |

Інші параметри залишались стандартними:

- **sheep-gain-from-food** = 4  
- **wolf-gain-from-food** = 20  
- **sheep-reproduce** = 4%  
- **model-version** = sheep-wolves  
- **grass-regrowth-time** = 30  
- **show-energy?** = off  

---

# 4. Налаштування BehaviorSearch

## 4.1. Вкладка **Model**

Було завантажено оригінальну модель:

- Wolf Sheep Predation.nlogox


BehaviorSearch автоматично зчитав параметри та їхні діапазони.

### Використана метрика (Measure)

Для оптимізації вибрано показник:

- **count sheep**

Тобто алгоритм шукає такі параметри, при яких **кількість овець у середньому за період симуляції буде максимальною**.

### Інші налаштування:

- **Measure if:** `true`  
- **Collected measure:** `MEAN_ACROSS_STEPS`  
- **Step limit:** `100`  
- **Setup:** `setup`  
- **Step:** `go`  

---

## 4.2. Вкладка **Search Objective**

Налаштування:

| Поле | Значення |
|------|-----------|
| **Goal** | Maximize Fitness |
| **Collected measure** | MEAN_ACROSS_STEPS |
| **Replicates** | RandomSearch: 3, StandardGA: 10 |
| **Combine replicates** | MEAN |

---

## 4.3. Вкладка **Search Algorithm**

### Для StandardGA:

| Параметр | Значення |
|---------|-----------|
| mutation-rate | 0.03 |
| population-size | 50 |
| crossover-rate | 0.7 |
| population-model | generational |
| tournament-size | 3 |
| Evaluation limit | 500 |
| Encoding | GrayBinaryChromosome |

### Для RandomSearch:

| Параметр | Значення |
|---------|-----------|
| Evaluation limit | 500 |
| Encoding | Same as GA |

---

# 5. Результати пошуку

Було проведено два пошуки: **RandomSearch** та **StandardGA**.

## 5.1. Результати RandomSearch

| Параметр                  | Значення |
|---------------------------|----------|
| wolf-reproduce            | 1        |
| initial-number-wolves     | 24       |
| initial-number-sheep      | 177      |
| best-fitness              | 1453.0858 |

### Графік під час пошуку
*randomsearch.png*

---

## 5.2. Результати StandardGA

| Параметр                  | Значення |
|---------------------------|----------|
| wolf-reproduce            | 1        |
| initial-number-wolves     | 24       |
| initial-number-sheep      | 177      |
| best-fitness              | 1704.5733 |

### Графік під час пошуку
*standartGA.png*

---

# 6. Перевірка моделі NetLogo з оптимальними параметрами

Було встановлено знайдені параметри:

- **model-version:** sheep-wolves
- **initial-number-sheep:** 177
- **initial-number-wolves:** 24
- **sheep-gain-from-food:** 4
- **wolf-gain-from-food:** 20
- **sheep-reproduce:** 4%
- **wolf-reproduce:** 1%
- **grass-regrowth-time:** 30


Скрін інтерфейсу моделі:  
*interface.png*

Поведінка моделі стала стабільною: популяція овець залишається високою, а кількість вовків не падає до нуля надто швидко.

---

# 7. Висновки

- BehaviorSearch успішно підібрав параметри, що **максимізують чисельність популяції овець**.  
- Обидва алгоритми (RandomSearch і StandardGA) дали **однаковий оптимум**, але RandomSearch показав **кращий fitness**, що є нормальним для моделей із сильною стохастичністю.
- Найкращим виявилося дуже низьке значення **wolf-reproduce = 1%**, що зменшує тиск хижаків на популяцію.  
- Результати повністю узгоджуються з поведінкою моделі та логікою екосистеми.


---

